{"remainingRequest":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/babel-loader/lib/index.js!/Users/arninbell/Documents/neversitup/todo-app/node_modules/eslint-loader/index.js??ref--14-0!/Users/arninbell/Documents/neversitup/todo-app/src/store/index.js","dependencies":[{"path":"/Users/arninbell/Documents/neversitup/todo-app/src/store/index.js","mtime":1675047176959},{"path":"/Users/arninbell/Documents/neversitup/todo-app/babel.config.js","mtime":1674903016353},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgVnVlQ29va2llcyBmcm9tICJ2dWUtY29va2llcyI7CmltcG9ydCBWdWV4IGZyb20gInZ1ZXgiOwpWdWUudXNlKFZ1ZUNvb2tpZXMpOwpWdWUuJGNvb2tpZXMuY29uZmlnKCIxZCIpOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHN0YXRlX2F1dGhvcml6ZTogZmFsc2UsCiAgICBzdGF0ZV91c2VyOiAiIgogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBsb2dpbl9mYWlsKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXRlX2F1dGhvcml6ZSA9IGZhbHNlOwogICAgICBzdGF0ZS5zdGF0ZV91c2VyID0gIiI7CiAgICB9LAogICAgbG9naW5fc3VjY2VzcyhzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS5zdGF0ZV9hdXRob3JpemUgPSB0cnVlOwogICAgICBzdGF0ZS5zdGF0ZV91c2VyID0gZGF0YS51c2VybmFtZTsKICAgIH0KICB9LAogIC8vICEgRG8gc29tZXRoaW5nCiAgYWN0aW9uczogewogICAgLy8gISBsb2dpbiDguYDguILguYnguLLguKrguLnguYjguKPguLDguJrguJog4Lii4Lix4LiH4LmE4Lih4LmI4LmD4LiK4LmI4LiC4Lit4LiH4LiI4Lij4Li04LiHCiAgICBhc3luYyBsb2dpbl9hdXRoZW4oewogICAgICBjb21taXQKICAgIH0sIGRhdGEpIHsKICAgICAgbGV0IGRhdGFfcmV0dXJuID0ge307CiAgICAgIHRyeSB7CiAgICAgICAgbGV0IHBheWxvYWQgPSB7CiAgICAgICAgICB1c2VybmFtZTogZGF0YS51c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiBkYXRhLnBhc3N3b3JkCiAgICAgICAgfTsKICAgICAgICBjb25zdCBjYWxsX2FwaSA9IGF3YWl0IGF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVE9ETyArICIvdXNlcnMvYXV0aCIsIHBheWxvYWQpOwogICAgICAgIGNvbnNvbGUubG9nKGNhbGxfYXBpLCAnTE9HSU4nKTsKICAgICAgICBpZiAoY2FsbF9hcGkuZGF0YS5zdGF0dXMgPT09ICJPSyIpIHsKICAgICAgICAgIC8vICEgc2V0dGluZwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBkYXRhLnVzZXJuYW1lKTsKICAgICAgICAgIFZ1ZS4kY29va2llcy5zZXQoImF1dGgiLCB0cnVlKTsKICAgICAgICAgIC8vICEgY29tbWl0IHRvIGxvZ2luIHN1Y2Nlc3MKICAgICAgICAgIGNvbW1pdCgibG9naW5fc3VjY2VzcyIsIGRhdGEpOwogICAgICAgICAgZGF0YV9yZXR1cm4gPSB7CiAgICAgICAgICAgIHN0YXR1czogIk9LIiwKICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAiIgogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gISBjb21taXQgdG8gbG9naW4gZmFpbAogICAgICAgICAgY29tbWl0KCJsb2dpbl9mYWlsIik7CiAgICAgICAgICBkYXRhX3JldHVybiA9IHsKICAgICAgICAgICAgc3RhdHVzOiAiRVIiLAogICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGNhbGxfYXBpLmRhdGEuZXJyb3JNZXNzYWdlCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygiZXJyb3IgaW4gbG9naW5fYXV0aGVuIiwgZXJyb3IpOwogICAgICAgIGRhdGFfcmV0dXJuID0gewogICAgICAgICAgc3RhdHVzOiAiRVIiLAogICAgICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yTWVzc2FnZSB8fCBlcnJvci5yZXF1ZXN0IHx8IGVycm9yCiAgICAgICAgfTsKICAgICAgfQogICAgICAvLyAhIHJldHVybgogICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzID0+IHsKICAgICAgICByZXMoZGF0YV9yZXR1cm4pOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXRfYXV0aGVuKCkgewogICAgICBWdWUuJGNvb2tpZXMucmVtb3ZlKCJhdXRoIik7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VyIik7CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBnZXR0ZXJzQXV0aG9yaXplOiBzdGF0ZSA9PiB7CiAgICAgIHJldHVybiBzdGF0ZS5zdGF0ZV9hdXRob3JpemU7CiAgICB9CiAgfQp9KTs="},{"version":3,"names":["Vue","axios","VueCookies","Vuex","use","$cookies","config","Store","state","state_authorize","state_user","mutations","login_fail","login_success","data","username","actions","login_authen","commit","data_return","payload","password","call_api","post","process","env","VUE_APP_API_TODO","console","log","status","localStorage","setItem","set","errorMessage","error","response","request","Promise","res","logout_authen","remove","removeItem","getters","gettersAuthorize"],"sources":["/Users/arninbell/Documents/neversitup/todo-app/src/store/index.js"],"sourcesContent":["import Vue from \"vue\";\nimport axios from \"axios\";\nimport VueCookies from \"vue-cookies\";\nimport Vuex from \"vuex\";\n\nVue.use(VueCookies);\nVue.$cookies.config(\"1d\");\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    state_authorize: false,\n    state_user: \"\",\n  },\n  mutations: {\n    login_fail(state) {\n      state.state_authorize = false;\n      state.state_user = \"\";\n    },\n    login_success(state, data) {\n      state.state_authorize = true;\n      state.state_user = data.username;\n    },\n  },\n  // ! Do something\n  actions: {\n    // ! login เข้าสู่ระบบ ยังไม่ใช่ของจริง\n    async login_authen({ commit }, data) {\n      let data_return = {};\n      try {\n        let payload = {\n          username: data.username,\n          password: data.password,\n        };\n        const call_api = await axios.post( process.env.VUE_APP_API_TODO + \"/users/auth\", payload);\n        console.log(call_api,'LOGIN');\n        if (call_api.data.status === \"OK\") {\n          // ! setting\n          localStorage.setItem(\"user\", data.username);\n          Vue.$cookies.set(\"auth\", true);\n          // ! commit to login success\n          commit(\"login_success\", data);\n          data_return = { status: \"OK\", errorMessage: \"\" };\n        } else {\n          // ! commit to login fail\n          commit(\"login_fail\");\n          data_return = { status: \"ER\", errorMessage: call_api.data.errorMessage };\n        }\n      } catch (error) {\n        console.log(\"error in login_authen\", error);\n        data_return = { status: \"ER\", errorMessage: error.response.data.errorMessage || error.request || error };\n      }\n      // ! return\n      return new Promise((res) => {\n        res(data_return);\n      });\n    },\n    logout_authen() {\n      Vue.$cookies.remove(\"auth\");\n      localStorage.removeItem(\"user\");\n    },\n  },\n  getters: {\n \n    gettersAuthorize: (state) => {\n      return state.state_authorize;\n    },\n  },\n});\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,UAAU,MAAM,aAAa;AACpC,OAAOC,IAAI,MAAM,MAAM;AAEvBH,GAAG,CAACI,GAAG,CAACF,UAAU,CAAC;AACnBF,GAAG,CAACK,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC;AACzBN,GAAG,CAACI,GAAG,CAACD,IAAI,CAAC;AAEb,eAAe,IAAIA,IAAI,CAACI,KAAK,CAAC;EAC5BC,KAAK,EAAE;IACLC,eAAe,EAAE,KAAK;IACtBC,UAAU,EAAE;EACd,CAAC;EACDC,SAAS,EAAE;IACTC,UAAU,CAACJ,KAAK,EAAE;MAChBA,KAAK,CAACC,eAAe,GAAG,KAAK;MAC7BD,KAAK,CAACE,UAAU,GAAG,EAAE;IACvB,CAAC;IACDG,aAAa,CAACL,KAAK,EAAEM,IAAI,EAAE;MACzBN,KAAK,CAACC,eAAe,GAAG,IAAI;MAC5BD,KAAK,CAACE,UAAU,GAAGI,IAAI,CAACC,QAAQ;IAClC;EACF,CAAC;EACD;EACAC,OAAO,EAAE;IACP;IACA,MAAMC,YAAY,CAAC;MAAEC;IAAO,CAAC,EAAEJ,IAAI,EAAE;MACnC,IAAIK,WAAW,GAAG,CAAC,CAAC;MACpB,IAAI;QACF,IAAIC,OAAO,GAAG;UACZL,QAAQ,EAAED,IAAI,CAACC,QAAQ;UACvBM,QAAQ,EAAEP,IAAI,CAACO;QACjB,CAAC;QACD,MAAMC,QAAQ,GAAG,MAAMrB,KAAK,CAACsB,IAAI,CAAEC,OAAO,CAACC,GAAG,CAACC,gBAAgB,GAAG,aAAa,EAAEN,OAAO,CAAC;QACzFO,OAAO,CAACC,GAAG,CAACN,QAAQ,EAAC,OAAO,CAAC;QAC7B,IAAIA,QAAQ,CAACR,IAAI,CAACe,MAAM,KAAK,IAAI,EAAE;UACjC;UACAC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEjB,IAAI,CAACC,QAAQ,CAAC;UAC3Cf,GAAG,CAACK,QAAQ,CAAC2B,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC;UAC9B;UACAd,MAAM,CAAC,eAAe,EAAEJ,IAAI,CAAC;UAC7BK,WAAW,GAAG;YAAEU,MAAM,EAAE,IAAI;YAAEI,YAAY,EAAE;UAAG,CAAC;QAClD,CAAC,MAAM;UACL;UACAf,MAAM,CAAC,YAAY,CAAC;UACpBC,WAAW,GAAG;YAAEU,MAAM,EAAE,IAAI;YAAEI,YAAY,EAAEX,QAAQ,CAACR,IAAI,CAACmB;UAAa,CAAC;QAC1E;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdP,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEM,KAAK,CAAC;QAC3Cf,WAAW,GAAG;UAAEU,MAAM,EAAE,IAAI;UAAEI,YAAY,EAAEC,KAAK,CAACC,QAAQ,CAACrB,IAAI,CAACmB,YAAY,IAAIC,KAAK,CAACE,OAAO,IAAIF;QAAM,CAAC;MAC1G;MACA;MACA,OAAO,IAAIG,OAAO,CAAEC,GAAG,IAAK;QAC1BA,GAAG,CAACnB,WAAW,CAAC;MAClB,CAAC,CAAC;IACJ,CAAC;IACDoB,aAAa,GAAG;MACdvC,GAAG,CAACK,QAAQ,CAACmC,MAAM,CAAC,MAAM,CAAC;MAC3BV,YAAY,CAACW,UAAU,CAAC,MAAM,CAAC;IACjC;EACF,CAAC;EACDC,OAAO,EAAE;IAEPC,gBAAgB,EAAGnC,KAAK,IAAK;MAC3B,OAAOA,KAAK,CAACC,eAAe;IAC9B;EACF;AACF,CAAC,CAAC"}]}