{"remainingRequest":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/babel-loader/lib/index.js!/Users/arninbell/Documents/neversitup/todo-app/node_modules/eslint-loader/index.js??ref--14-0!/Users/arninbell/Documents/neversitup/todo-app/src/store/index.js","dependencies":[{"path":"/Users/arninbell/Documents/neversitup/todo-app/src/store/index.js","mtime":1674904807498},{"path":"/Users/arninbell/Documents/neversitup/todo-app/babel.config.js","mtime":1674903016353},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgVnVlQ29va2llcyBmcm9tICJ2dWUtY29va2llcyI7CmltcG9ydCBWdWV4IGZyb20gInZ1ZXgiOwpWdWUudXNlKFZ1ZUNvb2tpZXMpOwpWdWUuJGNvb2tpZXMuY29uZmlnKCIxZCIpOwpWdWUudXNlKFZ1ZXgpOwpsZXQgc2lnbmF0dXJlID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzaWduYXR1cmUiKTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBzdGF0ZV9hdXRob3JpemU6IGZhbHNlLAogICAgc3RhdGVfdXNlcjogIiIKICB9LAogIG11dGF0aW9uczogewogICAgbG9naW5fZmFpbChzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0ZV9hdXRob3JpemUgPSBmYWxzZTsKICAgICAgc3RhdGUuc3RhdGVfdXNlciA9ICIiOwogICAgfSwKICAgIGxvZ2luX3N1Y2Nlc3Moc3RhdGUsIGRhdGEpIHsKICAgICAgc3RhdGUuc3RhdGVfYXV0aG9yaXplID0gdHJ1ZTsKICAgICAgc3RhdGUuc3RhdGVfdXNlciA9IGRhdGEudXNlcm5hbWU7CiAgICAgIHN0YXRlLnN0YXRlX3RheGlkID0gZGF0YS50YXhJZDsKICAgIH0KICB9LAogIC8vICEgRG8gc29tZXRoaW5nCiAgYWN0aW9uczogewogICAgLy8gISBsb2dpbiDguYDguILguYnguLLguKrguLnguYjguKPguLDguJrguJog4Lii4Lix4LiH4LmE4Lih4LmI4LmD4LiK4LmI4LiC4Lit4LiH4LiI4Lij4Li04LiHCiAgICBhc3luYyBsb2dpbl9hdXRoZW4oewogICAgICBjb21taXQKICAgIH0sIGRhdGEpIHsKICAgICAgbGV0IGRhdGFfcmV0dXJuID0ge307CiAgICAgIHRyeSB7CiAgICAgICAgbGV0IHBheWxvYWQgPSB7CiAgICAgICAgICB1c2VybmFtZTogZGF0YS51c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiBkYXRhLnBhc3N3b3JkCiAgICAgICAgfTsKICAgICAgICBjb25zdCBjYWxsX2FwaSA9IGF3YWl0IGF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfRkFDVE9SSU5HX0lCSUxMICsgIi9jb250cmFjdC9sb2dpblRlc3RJYmlsbCIsIHBheWxvYWQpOwogICAgICAgIGlmIChjYWxsX2FwaS5kYXRhLnN0YXR1cyA9PT0gIk9LIikgewogICAgICAgICAgLy8gISBzZXR0aW5nCiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlciIsIGRhdGEudXNlcm5hbWUpOwogICAgICAgICAgVnVlLiRjb29raWVzLnNldCgiYXV0aCIsIHRydWUpOwogICAgICAgICAgLy8gISBjb21taXQgdG8gbG9naW4gc3VjY2VzcwogICAgICAgICAgY29tbWl0KCJsb2dpbl9zdWNjZXNzIiwgZGF0YSk7CiAgICAgICAgICBkYXRhX3JldHVybiA9IHsKICAgICAgICAgICAgc3RhdHVzOiAiT0siLAogICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICIiCiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyAhIGNvbW1pdCB0byBsb2dpbiBmYWlsCiAgICAgICAgICBjb21taXQoImxvZ2luX2ZhaWwiKTsKICAgICAgICAgIGRhdGFfcmV0dXJuID0gewogICAgICAgICAgICBzdGF0dXM6ICJFUiIsCiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogY2FsbF9hcGkuZGF0YS5lcnJvck1lc3NhZ2UKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciBpbiBsb2dpbl9hdXRoZW4iLCBlcnJvcik7CiAgICAgICAgZGF0YV9yZXR1cm4gPSB7CiAgICAgICAgICBzdGF0dXM6ICJFUiIsCiAgICAgICAgICBlcnJvck1lc3NhZ2U6IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3JNZXNzYWdlIHx8IGVycm9yLnJlcXVlc3QgfHwgZXJyb3IKICAgICAgICB9OwogICAgICB9CiAgICAgIC8vICEgcmV0dXJuCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXMgPT4gewogICAgICAgIHJlcyhkYXRhX3JldHVybik7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ291dF9hdXRoZW4oKSB7CiAgICAgIFZ1ZS4kY29va2llcy5yZW1vdmUoImF1dGgiKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXIiKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGdldHRlcnNBdXRob3JpemU6IHN0YXRlID0+IHsKICAgICAgcmV0dXJuIHN0YXRlLnN0YXRlX2F1dGhvcml6ZTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"names":["Vue","axios","VueCookies","Vuex","use","$cookies","config","signature","window","localStorage","getItem","Store","state","state_authorize","state_user","mutations","login_fail","login_success","data","username","state_taxid","taxId","actions","login_authen","commit","data_return","payload","password","call_api","post","process","env","VUE_APP_API_FACTORING_IBILL","status","setItem","set","errorMessage","error","console","log","response","request","Promise","res","logout_authen","remove","removeItem","getters","gettersAuthorize"],"sources":["/Users/arninbell/Documents/neversitup/todo-app/src/store/index.js"],"sourcesContent":["import Vue from \"vue\";\nimport axios from \"axios\";\nimport VueCookies from \"vue-cookies\";\nimport Vuex from \"vuex\";\n\nVue.use(VueCookies);\nVue.$cookies.config(\"1d\");\nVue.use(Vuex);\n\nlet signature = window.localStorage.getItem(\"signature\");\n\nexport default new Vuex.Store({\n  state: {\n    state_authorize: false,\n    state_user: \"\",\n  },\n  mutations: {\n    login_fail(state) {\n      state.state_authorize = false;\n      state.state_user = \"\";\n    },\n    login_success(state, data) {\n      state.state_authorize = true;\n      state.state_user = data.username;\n      state.state_taxid = data.taxId;\n    },\n  },\n  // ! Do something\n  actions: {\n    // ! login เข้าสู่ระบบ ยังไม่ใช่ของจริง\n    async login_authen({ commit }, data) {\n      let data_return = {};\n      try {\n        let payload = {\n          username: data.username,\n          password: data.password,\n        };\n        const call_api = await axios.post(process.env.VUE_APP_API_FACTORING_IBILL + \"/contract/loginTestIbill\", payload);\n        if (call_api.data.status === \"OK\") {\n          // ! setting\n          localStorage.setItem(\"user\", data.username);\n          Vue.$cookies.set(\"auth\", true);\n          // ! commit to login success\n          commit(\"login_success\", data);\n          data_return = { status: \"OK\", errorMessage: \"\" };\n        } else {\n          // ! commit to login fail\n          commit(\"login_fail\");\n          data_return = { status: \"ER\", errorMessage: call_api.data.errorMessage };\n        }\n      } catch (error) {\n        console.log(\"error in login_authen\", error);\n        data_return = { status: \"ER\", errorMessage: error.response.data.errorMessage || error.request || error };\n      }\n      // ! return\n      return new Promise((res) => {\n        res(data_return);\n      });\n    },\n    logout_authen() {\n      Vue.$cookies.remove(\"auth\");\n      localStorage.removeItem(\"user\");\n    },\n  },\n  getters: {\n \n    gettersAuthorize: (state) => {\n      return state.state_authorize;\n    },\n  },\n});\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,UAAU,MAAM,aAAa;AACpC,OAAOC,IAAI,MAAM,MAAM;AAEvBH,GAAG,CAACI,GAAG,CAACF,UAAU,CAAC;AACnBF,GAAG,CAACK,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC;AACzBN,GAAG,CAACI,GAAG,CAACD,IAAI,CAAC;AAEb,IAAII,SAAS,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;AAExD,eAAe,IAAIP,IAAI,CAACQ,KAAK,CAAC;EAC5BC,KAAK,EAAE;IACLC,eAAe,EAAE,KAAK;IACtBC,UAAU,EAAE;EACd,CAAC;EACDC,SAAS,EAAE;IACTC,UAAU,CAACJ,KAAK,EAAE;MAChBA,KAAK,CAACC,eAAe,GAAG,KAAK;MAC7BD,KAAK,CAACE,UAAU,GAAG,EAAE;IACvB,CAAC;IACDG,aAAa,CAACL,KAAK,EAAEM,IAAI,EAAE;MACzBN,KAAK,CAACC,eAAe,GAAG,IAAI;MAC5BD,KAAK,CAACE,UAAU,GAAGI,IAAI,CAACC,QAAQ;MAChCP,KAAK,CAACQ,WAAW,GAAGF,IAAI,CAACG,KAAK;IAChC;EACF,CAAC;EACD;EACAC,OAAO,EAAE;IACP;IACA,MAAMC,YAAY,CAAC;MAAEC;IAAO,CAAC,EAAEN,IAAI,EAAE;MACnC,IAAIO,WAAW,GAAG,CAAC,CAAC;MACpB,IAAI;QACF,IAAIC,OAAO,GAAG;UACZP,QAAQ,EAAED,IAAI,CAACC,QAAQ;UACvBQ,QAAQ,EAAET,IAAI,CAACS;QACjB,CAAC;QACD,MAAMC,QAAQ,GAAG,MAAM3B,KAAK,CAAC4B,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,2BAA2B,GAAG,0BAA0B,EAAEN,OAAO,CAAC;QAChH,IAAIE,QAAQ,CAACV,IAAI,CAACe,MAAM,KAAK,IAAI,EAAE;UACjC;UACAxB,YAAY,CAACyB,OAAO,CAAC,MAAM,EAAEhB,IAAI,CAACC,QAAQ,CAAC;UAC3CnB,GAAG,CAACK,QAAQ,CAAC8B,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC;UAC9B;UACAX,MAAM,CAAC,eAAe,EAAEN,IAAI,CAAC;UAC7BO,WAAW,GAAG;YAAEQ,MAAM,EAAE,IAAI;YAAEG,YAAY,EAAE;UAAG,CAAC;QAClD,CAAC,MAAM;UACL;UACAZ,MAAM,CAAC,YAAY,CAAC;UACpBC,WAAW,GAAG;YAAEQ,MAAM,EAAE,IAAI;YAAEG,YAAY,EAAER,QAAQ,CAACV,IAAI,CAACkB;UAAa,CAAC;QAC1E;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEF,KAAK,CAAC;QAC3CZ,WAAW,GAAG;UAAEQ,MAAM,EAAE,IAAI;UAAEG,YAAY,EAAEC,KAAK,CAACG,QAAQ,CAACtB,IAAI,CAACkB,YAAY,IAAIC,KAAK,CAACI,OAAO,IAAIJ;QAAM,CAAC;MAC1G;MACA;MACA,OAAO,IAAIK,OAAO,CAAEC,GAAG,IAAK;QAC1BA,GAAG,CAAClB,WAAW,CAAC;MAClB,CAAC,CAAC;IACJ,CAAC;IACDmB,aAAa,GAAG;MACd5C,GAAG,CAACK,QAAQ,CAACwC,MAAM,CAAC,MAAM,CAAC;MAC3BpC,YAAY,CAACqC,UAAU,CAAC,MAAM,CAAC;IACjC;EACF,CAAC;EACDC,OAAO,EAAE;IAEPC,gBAAgB,EAAGpC,KAAK,IAAK;MAC3B,OAAOA,KAAK,CAACC,eAAe;IAC9B;EACF;AACF,CAAC,CAAC"}]}