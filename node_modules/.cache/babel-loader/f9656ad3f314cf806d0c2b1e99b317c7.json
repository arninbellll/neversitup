{"remainingRequest":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/babel-loader/lib/index.js!/Users/arninbell/Documents/neversitup/todo-app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/arninbell/Documents/neversitup/todo-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/arninbell/Documents/neversitup/todo-app/src/components/dialog_detailTodo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/arninbell/Documents/neversitup/todo-app/src/components/dialog_detailTodo.vue","mtime":1675180759788},{"path":"/Users/arninbell/Documents/neversitup/todo-app/babel.config.js","mtime":1674903016353},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsic2hvdyIsICJpZCJdLAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgaW5wdXQ6IHsKICAgICAgICB0aXRsZTogIiIsCiAgICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICAgIGRhdGVUaW1lOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNob3dlcjogewogICAgICBnZXQoKSB7CiAgICAgICAgaWYgKHRoaXMuc2hvdyA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5mbl9nZXREZXRhaWxUb2RvKCk7CiAgICAgICAgICByZXR1cm4gdGhpcy5zaG93OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9LAogICAgICBzZXQodmFsdWUpIHsKICAgICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCJjbG9zZSIsIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vRnVuY3Rpb24gZ2V0IGRldGFpbCBieSBJRAogICAgYXN5bmMgZm5fZ2V0RGV0YWlsVG9kbygpIHsKICAgICAgdHJ5IHsKICAgICAgICBsZXQgdGsgPSB0aGlzLiRjb29raWVzLmdldCgidG9kb190b2tlbiIpOwogICAgICAgIGxldCBoZWFkZXJfYXBpID0gewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBhdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyB0awogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgY29uc29sZS5sb2coaGVhZGVyX2FwaSk7CiAgICAgICAgbGV0IGNhbGxfYXBpID0gYXdhaXQgdGhpcy5heGlvcy5nZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVE9ETyArICIvdG9kb3MvIiArIHRoaXMuaWQsIGhlYWRlcl9hcGkpOwogICAgICAgIGNvbnNvbGUubG9nKGNhbGxfYXBpLCAiVEVTVCIpOwogICAgICAgIGlmIChjYWxsX2FwaS5zdGF0dXNUZXh0ID09PSAnT0snKSB7CiAgICAgICAgICB0aGlzLmlucHV0LnRpdGxlID0gY2FsbF9hcGkuZGF0YS50aXRsZTsKICAgICAgICAgIHRoaXMuaW5wdXQuZGVzY3JpcHRpb24gPSBjYWxsX2FwaS5kYXRhLmRlc2NyaXB0aW9uOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgIGljb246ICJlcnJvciIsCiAgICAgICAgICB0aXRsZTogIkVycm9yLCBzb21ldGhpbWcgd3JvbmcgIiwKICAgICAgICAgIHRleHQ6IGVycm9yCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvL0Z1bmN0aW9uIGVkaXQgdG9kbwogICAgYXN5bmMgZm5fZWRpdFRvZG8oKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBsZXQgdGsgPSB0aGlzLiRjb29raWVzLmdldCgidG9kb190b2tlbiIpOwogICAgICAgICAgbGV0IGhlYWRlcl9hcGkgPSB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyB0awogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgICAgbGV0IHBheWxvYWQgPSB7CiAgICAgICAgICAgIHRpdGxlOiB0aGlzLmlucHV0LnRpdGxlLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5pbnB1dC5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgZGF0ZVRpbWU6IHRoaXMuaW5wdXQuZGF0ZVRpbWUKICAgICAgICAgIH07CiAgICAgICAgICBsZXQgY2FsbF9hcGkgPSBhd2FpdCB0aGlzLmF4aW9zLnB1dChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9UT0RPICsgIi90b2Rvcy8iICsgdGhpcy5pZCwgcGF5bG9hZCwgaGVhZGVyX2FwaSk7CiAgICAgICAgICBpZiAoY2FsbF9hcGkuc3RhdHVzVGV4dCA9PT0gIk9LIikgewogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICB0aXRsZTogIkVkaXQgdG9kbyIsCiAgICAgICAgICAgICAgdGV4dDogImVkaXQgdG8gZG8gaW4geW91ciB0YXNrIHN1Y2Nlc3MhIgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgaWNvbjogImVycm9yIiwKICAgICAgICAgICAgdGl0bGU6ICJFcnJvciwgc29tZXRoaW1nIHdyb25nICIsCiAgICAgICAgICAgIHRleHQ6IGVycm9yCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"mappings":"AA8BA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACAC;MACAC;QACA;UACA;UACA;QACA;UACA;QACA;MACA;MACAC;QACA;UACA;QACA;MACA;IACA;EACA;EACAC;IACA;IACA;MACA;QACA;QACA;UAAAC;YAAAC;UAAA;QAAA;QACAC;QACA,oCACAC,oDACAC,WACA;QACAF;QACA;UACA;UACA;QACA;MACA;QACAA;QACAG;UACAC;UACAd;UACAe;QACA;MACA;IACA;IACA;IACA;MACA;QACA;UACA;UACA;YAAAP;cAAAC;YAAA;UAAA;UACA;YACAT;YACAC;YACAC;UACA;UACA,oCACAS,oDACAK,SACAJ,WACA;UACA;YACAC;cACAC;cACAd;cACAe;YACA;YACA;UACA;QACA;UACAL;UACAG;YACAC;YACAd;YACAe;UACA;QACA;MACA;IACA;EACA;AACA","names":["props","data","valid","loading","input","title","description","dateTime","computed","shower","get","set","methods","headers","authorization","console","process","header_api","Swal","icon","text","payload"],"sourceRoot":"src/components","sources":["dialog_detailTodo.vue"],"sourcesContent":["<template>\n  <div>\n    <v-dialog v-model=\"shower\" persistent max-width=\"650px\">\n      <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n        <v-card>\n          <v-layout row wrap class=\"ma-0 ext-left\">\n            <v-card-title> Edit todo </v-card-title>\n            <v-divider></v-divider>\n            <v-flex lg12 xs12 md12 class=\"pa-2\">\n              <p>Title</p>\n              <v-text-field color=\"#49B18F\" dense outlined v-model=\"input.title\">\n              </v-text-field>\n            </v-flex>\n            <v-flex lg12 xs12 md12 class=\"pa-2\">\n              <p>Descriptions</p>\n              <v-textarea color=\"#49B18F\" dense outlined v-model=\"input.description\">\n              </v-textarea>\n              <v-card-actions class=\"text-end\" style=\"justify-content: center;\">\n                <v-btn @click=\"$emit('close')\"> CLOSE </v-btn>\n                <v-btn color=\"#49B18F\" class=\"white--text\" @click=\"fn_editTodo\"> EDIT </v-btn>\n              </v-card-actions>\n\n            </v-flex>\n          </v-layout>\n        </v-card>\n      </v-form>\n    </v-dialog>\n  </div>\n</template>\n<script>\nimport Swal from \"sweetalert2\";\n\nexport default {\n  props: [\"show\" , \"id\"],\n  data: function () {\n    return {\n      valid: true,\n      loading: false,\n      input: {\n        title: \"\",\n        description: \"\",\n        dateTime: \"\",\n      },\n    };\n  },\n  computed: {\n    shower: {\n      get() {\n        if (this.show === true) {\n          this.fn_getDetailTodo()\n          return this.show;\n        } else {\n          return false;\n        }\n      },\n      set(value) {\n        if (!value) {\n          this.$emit(\"close\", false);\n        }\n      },\n    },\n  },\n  methods: {\n    //Function get detail by ID\n    async fn_getDetailTodo(){\n      try {\n          let tk = this.$cookies.get(\"todo_token\");\n          let header_api = { headers: { authorization: \"Bearer \" + tk } };\n          console.log(header_api);\n          let call_api = await this.axios.get(\n            process.env.VUE_APP_API_TODO + \"/todos/\" + this.id,\n            header_api\n          );\n          console.log(call_api, \"TEST\");\n          if(call_api.statusText === 'OK'){\n            this.input.title = call_api.data.title\n            this.input.description =  call_api.data.description\n          }\n      } catch (error) {\n        console.log(error);\n         Swal.fire({\n              icon: \"error\",\n              title: \"Error, somethimg wrong \",\n              text: error,\n            });\n      }\n    },\n    //Function edit todo\n    async fn_editTodo() {\n      if (this.$refs.form.validate()) {\n        try {\n          let tk = this.$cookies.get(\"todo_token\");\n          let header_api = { headers: { authorization: \"Bearer \" + tk } };\n          let payload = {\n            title: this.input.title,\n            description: this.input.description,\n            dateTime: this.input.dateTime,\n          };\n          let call_api = await this.axios.put(\n            process.env.VUE_APP_API_TODO + \"/todos/\" + this.id,\n            payload,\n            header_api\n          );\n          if (call_api.statusText === \"OK\") {\n            Swal.fire({\n              icon: \"success\",\n              title: \"Edit todo\",\n              text: \"edit to do in your task success!\",\n            });\n            this.$emit('close')\n          }\n        } catch (error) {\n           console.log(error);\n            Swal.fire({\n              icon: \"error\",\n              title: \"Error, somethimg wrong \",\n              text: error,\n            });\n        }\n      }\n    },\n  },\n};\n</script>\n"]}]}