{"remainingRequest":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/babel-loader/lib/index.js!/Users/arninbell/Documents/neversitup/todo-app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/arninbell/Documents/neversitup/todo-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/arninbell/Documents/neversitup/todo-app/src/views/todo_list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/arninbell/Documents/neversitup/todo-app/src/views/todo_list.vue","mtime":1675180394558},{"path":"/Users/arninbell/Documents/neversitup/todo-app/babel.config.js","mtime":1674903016353},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IG1kaVBsdXMsIG1kaUNoZWNrQ2lyY2xlT3V0bGluZSwgbWRpQ2xvc2VDaXJjbGVPdXRsaW5lLCBtZGlMaXN0Qm94T3V0bGluZSB9IGZyb20gIkBtZGkvanMiOwppbXBvcnQgQ29udmVydGVyIGZyb20gIi4uL2NvbnZlcnRlci9mb3JtYXRlRGF0ZVRpbWUiOwppbXBvcnQgRGlhbG9nQWRkIGZyb20gIi4uL2NvbXBvbmVudHMvZGlhbG9nX2FkZFRvZG8udnVlIjsKaW1wb3J0IERpYWxvZ0RldGFpbCBmcm9tICIuLi9jb21wb25lbnRzL2RpYWxvZ19kZXRhaWxUb2RvLnZ1ZSI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIERpYWxvZ0FkZCwKICAgIERpYWxvZ0RldGFpbAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGljb25zOiB7CiAgICAgICAgbWRpUGx1cywKICAgICAgICBtZGlDaGVja0NpcmNsZU91dGxpbmUsCiAgICAgICAgbWRpQ2xvc2VDaXJjbGVPdXRsaW5lLAogICAgICAgIG1kaUxpc3RCb3hPdXRsaW5lCiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBvdmVybGF5OiBmYWxzZSwKICAgICAgb3Blbl9kaWFsb2dBZGQ6IGZhbHNlLAogICAgICBvcGVuX2RpYWxvZ0RldGFpbDogZmFsc2UsCiAgICAgIGlkOiAiIiwKICAgICAgbGlzdE1vY2s6IFt7CiAgICAgICAgdGV4dDogIlRPIERvIDEiLAogICAgICAgIGRhdGU6ICIxMC8xMC8yMDIzIgogICAgICB9LCB7CiAgICAgICAgdGV4dDogIlRPIERvIDIiLAogICAgICAgIGRhdGU6ICIxMC8xMC8yMDIzIgogICAgICB9LCB7CiAgICAgICAgdGV4dDogIlRPIERvIDMiLAogICAgICAgIGRhdGU6ICIxMC8xMC8yMDIzIgogICAgICB9XSwKICAgICAgbGlzdFRvZG86IFtdLAogICAgICBsaXN0RG9uZTogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBGdW5jdGlvbiBnZXQgVG9kbyBsaXN0IAogICAgYXN5bmMgZm5fZ2V0TGlzdFRvZG8oKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJGNvb2tpZXMuZ2V0KCJ0b2RvX3Rva2VuIikpOwogICAgICB0cnkgewogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgdGhpcy5vdmVybGF5ID0gdHJ1ZTsKICAgICAgICAvL2dldCB0b2tlbiBieSBjb29raWUKICAgICAgICBsZXQgdGsgPSB0aGlzLiRjb29raWVzLmdldCgidG9kb190b2tlbiIpOwogICAgICAgIGxldCBoZWFkZXJfYXBpID0gewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBhdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyB0awogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgbGV0IGNhbGxfYXBpID0gYXdhaXQgdGhpcy5heGlvcy5nZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVE9ETyArICIvdG9kb3MiLCBoZWFkZXJfYXBpKTsKICAgICAgICBjb25zb2xlLmxvZyhjYWxsX2FwaSwgIiBBQVBQIik7CiAgICAgICAgaWYgKGNhbGxfYXBpLnN0YXR1c1RleHQgPT09ICJPSyIpIHsKICAgICAgICAgIHRoaXMubGlzdFRvZG8gPSBjYWxsX2FwaS5kYXRhOwogICAgICAgIH0KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLm92ZXJsYXkgPSBmYWxzZTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgdGhpcy5vdmVybGF5ID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvLyBGdW5jdGlvbiBEZWxldGUgVG9kbwogICAgZm5fZGVsZXRlVG9kbygpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5saXN0RG9uZSwgIkRPTkUiKTsKICAgICAgU3dhbC5maXJlKHsKICAgICAgICB0aXRsZTogIkRvIHlvdSB3YW50IHRvIGVuZCB0YXNrPyIsCiAgICAgICAgaWNvbjogImluZm8iLAogICAgICAgIHdpZHRoOiA0NTAsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIkNvbmZpcm0iLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJDYW5jZWwiCiAgICAgIH0pLnRoZW4oYXN5bmMgcmVzdWx0ID0+IHsKICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBsZXQgdGsgPSB0aGlzLiRjb29raWVzLmdldCgidG9kb190b2tlbiIpOwogICAgICAgICAgICBsZXQgaGVhZGVyX2FwaSA9IHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyB0awogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgLy8gQ2hlY2sgbGlzdCBpZiBkZWxldGUgbW9yZSB0aGFuIG9uZQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdERvbmUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMubGlzdERvbmVbaV07CiAgICAgICAgICAgICAgbGV0IGNhbGxfYXBpID0gYXdhaXQgdGhpcy5heGlvcy5kZWxldGUocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVE9ETyArICIvdG9kb3MvIiArIGlkLCBoZWFkZXJfYXBpKTsKICAgICAgICAgICAgICBpZiAoY2FsbF9hcGkuc3RhdHVzVGV4dCA9PT0gIk9LIikgewogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgiY2xvc2UiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgdGl0bGU6ICJEZWxldGUgdG9kbyIsCiAgICAgICAgICAgICAgdGV4dDogIkRlbGV0ZSB0byBkbyBpbiB5b3VyIHRhc2sgc3VjY2VzcyEiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLmZuX2dldExpc3RUb2RvKCk7CiAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgaWNvbjogImVycm9yIiwKICAgICAgICAgICAgICB0aXRsZTogIkVycm9yLCBzb21ldGhpbWcgd3JvbmcgIiwKICAgICAgICAgICAgICB0ZXh0OiBlcnJvcgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIGZ1bmN0aW9uIG9wZW4gZGlhbG9nIEFkZCB0b2RvCiAgICBmbl9hZGRMaXN0KGl0ZW0pIHsKICAgICAgdGhpcy5saXN0RG9uZS5wdXNoKGl0ZW0pOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmxpc3REb25lLCAiRE9NIik7CiAgICB9LAogICAgLy8gZnVuY3Rpb24gb3BlbiBkaWFsb2cgZWV0YWlsIGFuZCBlZGl0CiAgICBmbl9nb3RvRGV0YWlsKF9pdGVtKSB7CiAgICAgIGNvbnNvbGUubG9nKF9pdGVtKTsKICAgICAgdGhpcy5pZCA9IF9pdGVtLl9pZDsKICAgICAgdGhpcy5vcGVuX2RpYWxvZ0RldGFpbCA9IHRydWU7CiAgICB9LAogICAgZm5fY2xvc2UoKSB7CiAgICAgIHRoaXMuZm5fZ2V0TGlzdFRvZG8oKTsKICAgICAgdGhpcy5vcGVuX2RpYWxvZ0RldGFpbCA9IGZhbHNlOwogICAgICB0aGlzLm9wZW5fZGlhbG9nQWRkID0gZmFsc2U7CiAgICB9LAogICAgLy8g4LmB4Lib4Lil4LiH4Lin4Lix4LiZ4LiX4Li14LmI4LiI4Liy4LiBIHRpbWVzdGFtcAogICAgZm5fZm9ybWF0ZGF0ZXRpbWVzdGFtcChfZGF0ZSwgX2Zvcm1hdCkgewogICAgICByZXR1cm4gQ29udmVydGVyLnRpbWVzdGFtcFRvWVlZWU1NREQoX2RhdGUsIF9mb3JtYXQpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZm5fZ2V0TGlzdFRvZG8oKTsKICB9Cn07"},{"version":3,"mappings":";AAyFA,SACAA,SACAC,uBACAC,uBACAC,yBACA;AACA;AACA;AACA;AACA;AAEA;EACAC;IAAAC;IAAAC;EAAA;EACAC;IACA;MACAC;QACAR;QACAC;QACAC;QACAC;MACA;MACAM;MACAC;MACAC;MACAC;MACAC;MACAC,WACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,EACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;MACAC;MACA;QACA;QACA;QACA;QACA;QACA;UAAAC;YAAAC;UAAA;QAAA;QACA;QACAF;QACA;UACA;QACA;QACA;QACA;MACA;QACAA;QACA;MACA;IACA;IACA;IACAG;MACAH;MACAI;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;QACA;UACA;YACA;YACA;cAAAT;gBAAAC;cAAA;YAAA;YACA;YACA;cACA;cACA;cACA;gBACA;cACA;YACA;YACAE;cACAE;cACAD;cACAV;YACA;YACA;UACA;YACAK;YACAI;cACAE;cACAD;cACAV;YACA;UACA;QACA;MACA;IACA;IACA;IACAgB;MACA;MACAX;IACA;IACA;IACAY;MACAZ;MACA;MACA;IACA;IACAa;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACA;EACA;AACA","names":["mdiPlus","mdiCheckCircleOutline","mdiCloseCircleOutline","mdiListBoxOutline","components","DialogAdd","DialogDetail","data","icons","loading","overlay","open_dialogAdd","open_dialogDetail","id","listMock","text","date","listTodo","listDone","methods","console","headers","authorization","fn_deleteTodo","Swal","title","icon","width","showCancelButton","confirmButtonText","cancelButtonText","fn_addList","fn_gotoDetail","fn_close","fn_formatdatetimestamp","mounted"],"sourceRoot":"src/views","sources":["todo_list.vue"],"sourcesContent":["<template>\n  <v-app style=\"background-image: linear-gradient(0deg, #ebf3f9, #b2e7d6)\">\n    <v-container fill-height class=\"pa-4\">\n      <v-layout row warp class=\"ma-0\">\n        <v-flex lg12 xs12 md12 class=\"pa-2\">\n          <v-card>\n            <h1 class=\"pa-4\">TODO</h1>\n            <v-divider></v-divider>\n            <v-card-text>\n                <!-- List TODO -->\n              <v-layout v-if=\"listTodo.length > 0\" row wrap>\n                <v-flex lg12 md12 xs12 class=\"text-left\">\n                  <v-list>\n                    <v-list-item-group>\n                      <v-list-item\n                        v-for=\"(item, index) in listTodo\"\n                        :key=\"index\"\n                        @dblclick=\"fn_gotoDetail(item)\"\n                      >\n                        <template>\n                          <v-list-item-content>\n                            <v-list-item-title class=\"pt-1 pb-1 pr-1\">\n                              <span>{{ item.title }}</span>\n                            </v-list-item-title>\n                            <v-list-item-subtitle>\n                              {{ item.description }}\n                            </v-list-item-subtitle>\n                          </v-list-item-content>\n                          <v-list-item-action>\n                            <v-checkbox\n                              color=\"#49B18F\"\n                              :value=\"item._id\"\n                              v-model=\"listDone\"\n                            >\n                            </v-checkbox>\n                            <v-list-item-action-text>{{\n                              fn_formatdatetimestamp(\n                                item.createdAt,\n                                \"dd-MM-yyyy hh:mm\"\n                              )\n                            }}</v-list-item-action-text>\n                          </v-list-item-action>\n                        </template>\n                      </v-list-item>\n                    </v-list-item-group>\n                  </v-list>\n                </v-flex>\n              </v-layout>\n              <!-- Nodata -->\n              <v-layout v-else row wrap justify-center>\n                <v-flex lg12 md12 xs12 class=\"pa-2\">\n                  <v-icon size=\"64px\">{{ icons.mdiListBoxOutline }}</v-icon>\n                  <br />\n                  <br />\n                  <span>Empty press ' + ' for add new todo</span>\n                </v-flex>\n              </v-layout>\n              <v-divider></v-divider>\n              <v-card-actions class=\"text-center pa-2\" style=\"justify-content: center;\">\n                <div class=\"pa-2\">\n                    <v-btn @click=\"open_dialogAdd = true\" fab color=\"#49B18F\">\n                        <v-icon color=\"white\">{{ icons.mdiPlus }}</v-icon>\n                    </v-btn>\n                </div>\n                <div class=\"pa-2\">\n                    <v-badge  v-if=\"listDone.length > 0\" offset-x=\"15\" offset-y=\"15\" color=\"#f4784b\" :content=\"listDone.length\">\n                        <v-btn v-if=\"listDone.length > 0\" class=\"\" color=\"#f25822\" fab @click=\"fn_deleteTodo()\">\n                            <v-icon color=\"white\">{{ icons.mdiCloseCircleOutline}}</v-icon>\n                        </v-btn>\n                    </v-badge>\n                </div>\n              </v-card-actions>\n            </v-card-text>\n          </v-card>\n        </v-flex>\n      </v-layout>\n    </v-container>\n    <DialogAdd :show=\"open_dialogAdd\" @close=\"fn_close()\"></DialogAdd>\n    <DialogDetail\n      :show=\"open_dialogDetail\"\n      :id=\"id\"\n      @close=\"fn_close()\"\n    ></DialogDetail>\n    <v-overlay :value=\"overlay\">\n      <v-progress-circular indeterminate size=\"64\"></v-progress-circular>\n    </v-overlay>\n  </v-app>\n</template>\n<script>\nimport {\n  mdiPlus,\n  mdiCheckCircleOutline,\n  mdiCloseCircleOutline,\n  mdiListBoxOutline,\n} from \"@mdi/js\";\nimport Converter from \"../converter/formateDateTime\";\nimport DialogAdd from \"../components/dialog_addTodo.vue\";\nimport DialogDetail from \"../components/dialog_detailTodo.vue\";\nimport Swal from \"sweetalert2\";\n\nexport default {\n  components: { DialogAdd, DialogDetail },\n  data() {\n    return {\n      icons: {\n        mdiPlus,\n        mdiCheckCircleOutline,\n        mdiCloseCircleOutline,\n        mdiListBoxOutline,\n      },\n      loading: false,\n      overlay: false,\n      open_dialogAdd: false,\n      open_dialogDetail: false,\n      id: \"\",\n      listMock: [\n        { text: \"TO Do 1\", date: \"10/10/2023\" },\n        { text: \"TO Do 2\", date: \"10/10/2023\" },\n        { text: \"TO Do 3\", date: \"10/10/2023\" },\n      ],\n      listTodo: [],\n      listDone: [],\n    };\n  },\n  methods: {\n    // Function get Todo list \n    async fn_getListTodo() {\n      console.log(this.$cookies.get(\"todo_token\"));\n      try {\n        this.loading = true;\n        this.overlay = true;\n        //get token by cookie\n        let tk = this.$cookies.get(\"todo_token\");\n        let header_api = { headers: { authorization: \"Bearer \" + tk } };\n        let call_api = await this.axios.get( process.env.VUE_APP_API_TODO + \"/todos\", header_api );\n        console.log(call_api, \" AAPP\");\n        if (call_api.statusText === \"OK\") {\n          this.listTodo = call_api.data;\n        }\n        this.loading = false;\n        this.overlay = false;\n      } catch (error) {\n        console.log(error);\n        this.overlay = false;\n      }\n    },\n    // Function Delete Todo\n    fn_deleteTodo() {\n      console.log(this.listDone, \"DONE\");\n      Swal.fire({\n        title: \"Do you want to end task?\",\n        icon: \"info\",\n        width: 450,\n        showCancelButton: true,\n        confirmButtonText: \"Confirm\",\n        cancelButtonText: \"Cancel\",\n      }).then(async (result) => {\n        if (result.isConfirmed) {\n          try {\n            let tk = this.$cookies.get(\"todo_token\");\n            let header_api = { headers: { authorization: \"Bearer \" + tk } };\n            // Check list if delete more than one\n            for (let i = 0; i < this.listDone.length; i++) {\n              const id = this.listDone[i];\n              let call_api = await this.axios.delete( process.env.VUE_APP_API_TODO + \"/todos/\" + id, header_api);\n              if (call_api.statusText === \"OK\") {\n                this.$emit(\"close\");\n              }\n            }\n            Swal.fire({\n              icon: \"success\",\n              title: \"Delete todo\",\n              text: \"Delete to do in your task success!\",\n            });\n            this.fn_getListTodo();\n          } catch (error) {\n            console.log(error);\n            Swal.fire({\n              icon: \"error\",\n              title: \"Error, somethimg wrong \",\n              text: error,\n            });\n          }\n        }\n      });\n    },\n    // function open dialog Add todo\n    fn_addList(item) {\n      this.listDone.push(item);\n      console.log(this.listDone, \"DOM\");\n    },\n    // function open dialog eetail and edit\n    fn_gotoDetail(_item) {\n      console.log(_item);\n      this.id = _item._id;\n      this.open_dialogDetail = true;\n    },\n    fn_close() {\n      this.fn_getListTodo();\n      this.open_dialogDetail = false;\n      this.open_dialogAdd = false;\n    },\n    // แปลงวันที่จาก timestamp\n    fn_formatdatetimestamp(_date, _format) {\n      return Converter.timestampToYYYYMMDD(_date, _format);\n    },\n  },\n  mounted() {\n    this.fn_getListTodo();\n  },\n};\n</script>\n"]}]}