{"remainingRequest":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/arninbell/Documents/neversitup/todo-app/src/views/todo_list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/arninbell/Documents/neversitup/todo-app/src/views/todo_list.vue","mtime":1675154124233},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7CiAgbWRpUGx1cywKICBtZGlDaGVja0NpcmNsZU91dGxpbmUsCiAgbWRpQ2xvc2VDaXJjbGVPdXRsaW5lLAogIG1kaUxpc3RCb3hPdXRsaW5lLAp9IGZyb20gIkBtZGkvanMiOwppbXBvcnQgQ29udmVydGVyIGZyb20gIi4uL2NvbnZlcnRlci9mb3JtYXRlRGF0ZVRpbWUiOwppbXBvcnQgRGlhbG9nQWRkIGZyb20gIi4uL2NvbXBvbmVudHMvZGlhbG9nX2FkZFRvZG8udnVlIjsKaW1wb3J0IERpYWxvZ0RldGFpbCBmcm9tICIuLi9jb21wb25lbnRzL2RpYWxvZ19kZXRhaWxUb2RvLnZ1ZSI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IERpYWxvZ0FkZCwgRGlhbG9nRGV0YWlsIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGljb25zOiB7CiAgICAgICAgbWRpUGx1cywKICAgICAgICBtZGlDaGVja0NpcmNsZU91dGxpbmUsCiAgICAgICAgbWRpQ2xvc2VDaXJjbGVPdXRsaW5lLAogICAgICAgIG1kaUxpc3RCb3hPdXRsaW5lLAogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgb3ZlcmxheTogZmFsc2UsCiAgICAgIG9wZW5fZGlhbG9nQWRkOiBmYWxzZSwKICAgICAgb3Blbl9kaWFsb2dEZXRhaWw6IGZhbHNlLAogICAgICBpZDogIiIsCiAgICAgIGxpc3RNb2NrOiBbCiAgICAgICAgeyB0ZXh0OiAiVE8gRG8gMSIsIGRhdGU6ICIxMC8xMC8yMDIzIiB9LAogICAgICAgIHsgdGV4dDogIlRPIERvIDIiLCBkYXRlOiAiMTAvMTAvMjAyMyIgfSwKICAgICAgICB7IHRleHQ6ICJUTyBEbyAzIiwgZGF0ZTogIjEwLzEwLzIwMjMiIH0sCiAgICAgIF0sCiAgICAgIGxpc3RUb2RvOiBbXSwKICAgICAgbGlzdERvbmU6IFtdLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGZuX2dldExpc3RUb2RvKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLiRjb29raWVzLmdldCgidG9kb190b2tlbiIpKTsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIHRoaXMub3ZlcmxheSA9IHRydWU7CiAgICAgICAgbGV0IHRrID0gdGhpcy4kY29va2llcy5nZXQoInRvZG9fdG9rZW4iKTsKCiAgICAgICAgbGV0IGhlYWRlcl9hcGkgPSB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIGF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIHRrLAogICAgICAgICAgfSwKICAgICAgICB9OwogICAgICAgIGxldCBjYWxsX2FwaSA9IGF3YWl0IHRoaXMuYXhpb3MuZ2V0KAogICAgICAgICAgcHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVE9ETyArICIvdG9kb3MiLAogICAgICAgICAgaGVhZGVyX2FwaQogICAgICAgICk7CiAgICAgICAgY29uc29sZS5sb2coY2FsbF9hcGksICIgQUFQUCIpOwogICAgICAgIGlmIChjYWxsX2FwaS5zdGF0dXNUZXh0ID09PSAiT0siKSB7CiAgICAgICAgICB0aGlzLmxpc3RUb2RvID0gY2FsbF9hcGkuZGF0YTsKICAgICAgICB9CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5vdmVybGF5ID0gZmFsc2U7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgZm5fZGVsZXRlVG9kbyhfaXRlbSkgewogICAgICB0cnkgewogICAgICAgIGxldCB0ayA9IHRoaXMuJGNvb2tpZXMuZ2V0KCJ0b2RvX3Rva2VuIik7CiAgICAgICAgbGV0IGhlYWRlcl9hcGkgPSB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIGF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIHRrLAogICAgICAgICAgfSwKICAgICAgICB9OwogICAgICAgIGxldCBjYWxsX2FwaSA9IGF3YWl0IHRoaXMuYXhpb3MuZGVsZXRlKAogICAgICAgICAgcHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVE9ETyArICIvdG9kb3MvIiArIF9pdGVtLl9pZCwKICAgICAgICAgIGhlYWRlcl9hcGkKICAgICAgICApOwogICAgICAgIGlmIChjYWxsX2FwaS5zdGF0dXNUZXh0ID09PSAiT0siKSB7CiAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgIHRpdGxlOiAiRGVsZXRlIHRvZG8iLAogICAgICAgICAgICB0ZXh0OiAiRGVsZXRlIHRvIGRvIGluIHlvdXIgdGFzayBzdWNjZXNzISIsCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuJGVtaXQoImNsb3NlIik7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIGZuX2FkZExpc3QoaXRlbSkgewogICAgICBjb25zb2xlLmxvZyhpdGVtKTsKICAgICAgdGhpcy5saXN0RG9uZS5wdXNoKGl0ZW0pOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmxpc3REb25lLCAiRE9NIik7CiAgICB9LAogICAgZm5fZmluZCgpIHt9LAogICAgZm5fZ290b0RldGFpbChfaXRlbSkgewogICAgICBjb25zb2xlLmxvZyhfaXRlbSk7CiAgICAgIHRoaXMuaWQgPSBfaXRlbS5faWQ7CiAgICAgIHRoaXMub3Blbl9kaWFsb2dEZXRhaWwgPSB0cnVlOwogICAgfSwKICAgIGZuX2Nsb3NlKCkgewogICAgICB0aGlzLmZuX2dldExpc3RUb2RvKCk7CiAgICAgIHRoaXMub3Blbl9kaWFsb2dEZXRhaWwgPSBmYWxzZTsKICAgICAgdGhpcy5vcGVuX2RpYWxvZ0FkZCA9IGZhbHNlOwogICAgfSwKICAgIC8vIOC5geC4m+C4peC4h+C4p+C4seC4meC4l+C4teC5iOC4iOC4suC4gSB0aW1lc3RhbXAKICAgIGZuX2Zvcm1hdGRhdGV0aW1lc3RhbXAoX2RhdGUsIF9mb3JtYXQpIHsKICAgICAgcmV0dXJuIENvbnZlcnRlci50aW1lc3RhbXBUb1lZWVlNTUREKF9kYXRlLCBfZm9ybWF0KTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgY29uc29sZS5sb2codGhpcy4kc3RvcmUuZ2V0dGVycy5nZXR0ZXJzVG9rZW4sICJFRSIpOwogICAgdGhpcy5mbl9nZXRMaXN0VG9kbygpOwogIH0sCn07Cg=="},{"version":3,"sources":["todo_list.vue"],"names":[],"mappings":";AA+HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"todo_list.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-app style=\"background-image: linear-gradient(0deg, #ebf3f9, #b2e7d6)\">\n    <v-container fill-height class=\"pa-4\">\n      <v-layout row warp class=\"ma-0\">\n        <v-flex lg12 xs12 md12 class=\"pa-2\">\n          <v-card>\n            <h1 class=\"pa-4\">TODO</h1>\n            <v-divider></v-divider>\n\n            <v-card-text>\n              <v-layout v-if=\"listTodo.length > 0\" row wrap>\n                <v-flex lg12 md12 xs12 class=\"text-left\">\n                  <v-list>\n                    <v-list-item-group>\n                      <v-list-item\n                        v-for=\"(item, index) in listTodo\"\n                        :key=\"index\"\n                        @dblclick=\"fn_gotoDetail(item)\"\n                      >\n                        <template>\n                          <v-list-item-content>\n                            <v-list-item-title class=\"pt-1 pb-1 pr-1\">\n                              <span>{{ item.title }}</span>\n                            </v-list-item-title>\n                            <v-list-item-subtitle>\n                              {{ item.description }}\n                            </v-list-item-subtitle>\n                          </v-list-item-content>\n                          <v-list-item-action>\n                            <v-icon @click=\"fn_addList(item)\" color=\"#49B18F\">{{\n                              icons.mdiCheckCircleOutline\n                            }}</v-icon>\n                            <v-list-item-action-text>{{\n                              fn_formatdatetimestamp(\n                                item.createdAt,\n                                \"dd-MM-yyyy hh:mm\"\n                              )\n                            }}</v-list-item-action-text>\n                          </v-list-item-action>\n                        </template>\n                      </v-list-item>\n                    </v-list-item-group>\n                  </v-list>\n                </v-flex>\n                <v-flex lg12 md12 xs12>\n                  <v-data-table\n                    :items=\"listTodo\"\n                    :show-select=\"true\"\n                    :single-select=\"true\"\n                    hide-default-footer\n                    hide-default-header\n\n                  >\n                    <template v-slot:item=\"props\">\n                        <tr class=\"ma-4\">\n                            <td>\n                                <v-checkbox @click=\"fn_addList(item)\"></v-checkbox>\n                            </td>\n                            <td>\n                                {{props.item.title}}\n                            </td>\n                             <td>\n                                {{props.item.description}}\n                            </td>\n                             <td>\n                               {{\n                              fn_formatdatetimestamp(\n                                props.item.createdAt,\n                                \"dd-MM-yyyy hh:mm\"\n                              )\n                              }}\n                            </td>\n                        </tr>\n\n                    </template>\n                  </v-data-table>\n                </v-flex>\n              </v-layout>\n              <v-layout v-else row wrap justify-center>\n                <v-flex lg12 md12 xs12 class=\"pa-2\">\n                  <v-icon size=\"64px\">{{ icons.mdiListBoxOutline }}</v-icon>\n                  <br />\n                  <br />\n                  <span>Empty press ' + ' for add new todo</span>\n                </v-flex>\n              </v-layout>\n              <v-divider></v-divider>\n              <v-card-actions class=\"text-center\">\n                <v-btn\n                  @click=\"open_dialogAdd = true\"\n                  fab\n                  color=\"#49B18F\"\n                  class=\"pa-2 mt-4\"\n                >\n                  <v-icon color=\"white\">{{ icons.mdiPlus }}</v-icon></v-btn\n                >\n                <v-badge color=\"#f25822\" :content=\"listDone.length\">\n                  <v-btn\n                    v-if=\"listDone.length > 0\"\n                    class=\"pa-2 mt-4\"\n                    color=\"#f25822\"\n                    fab\n                    @click=\"fn_deleteTodo(item)\"\n                  >\n                    <v-icon color=\"white\">{{\n                      icons.mdiCloseCircleOutline\n                    }}</v-icon>\n                  </v-btn>\n                </v-badge>\n              </v-card-actions>\n            </v-card-text>\n          </v-card>\n        </v-flex>\n      </v-layout>\n    </v-container>\n    <DialogAdd :show=\"open_dialogAdd\" @close=\"fn_close()\"></DialogAdd>\n    <DialogDetail\n      :show=\"open_dialogDetail\"\n      :id=\"id\"\n      @close=\"fn_close()\"\n    ></DialogDetail>\n    <v-overlay :value=\"overlay\">\n      <v-progress-circular indeterminate size=\"64\"></v-progress-circular>\n    </v-overlay>\n  </v-app>\n</template>\n<script>\nimport {\n  mdiPlus,\n  mdiCheckCircleOutline,\n  mdiCloseCircleOutline,\n  mdiListBoxOutline,\n} from \"@mdi/js\";\nimport Converter from \"../converter/formateDateTime\";\nimport DialogAdd from \"../components/dialog_addTodo.vue\";\nimport DialogDetail from \"../components/dialog_detailTodo.vue\";\nimport Swal from \"sweetalert2\";\n\nexport default {\n  components: { DialogAdd, DialogDetail },\n  data() {\n    return {\n      icons: {\n        mdiPlus,\n        mdiCheckCircleOutline,\n        mdiCloseCircleOutline,\n        mdiListBoxOutline,\n      },\n      loading: false,\n      overlay: false,\n      open_dialogAdd: false,\n      open_dialogDetail: false,\n      id: \"\",\n      listMock: [\n        { text: \"TO Do 1\", date: \"10/10/2023\" },\n        { text: \"TO Do 2\", date: \"10/10/2023\" },\n        { text: \"TO Do 3\", date: \"10/10/2023\" },\n      ],\n      listTodo: [],\n      listDone: [],\n    };\n  },\n  methods: {\n    async fn_getListTodo() {\n      console.log(this.$cookies.get(\"todo_token\"));\n      try {\n        this.loading = true;\n        this.overlay = true;\n        let tk = this.$cookies.get(\"todo_token\");\n\n        let header_api = {\n          headers: {\n            authorization: \"Bearer \" + tk,\n          },\n        };\n        let call_api = await this.axios.get(\n          process.env.VUE_APP_API_TODO + \"/todos\",\n          header_api\n        );\n        console.log(call_api, \" AAPP\");\n        if (call_api.statusText === \"OK\") {\n          this.listTodo = call_api.data;\n        }\n        this.loading = false;\n        this.overlay = false;\n      } catch (error) {\n        console.log(error);\n        this.overlay = false;\n      }\n    },\n    async fn_deleteTodo(_item) {\n      try {\n        let tk = this.$cookies.get(\"todo_token\");\n        let header_api = {\n          headers: {\n            authorization: \"Bearer \" + tk,\n          },\n        };\n        let call_api = await this.axios.delete(\n          process.env.VUE_APP_API_TODO + \"/todos/\" + _item._id,\n          header_api\n        );\n        if (call_api.statusText === \"OK\") {\n          Swal.fire({\n            icon: \"success\",\n            title: \"Delete todo\",\n            text: \"Delete to do in your task success!\",\n          });\n          this.$emit(\"close\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    fn_addList(item) {\n      console.log(item);\n      this.listDone.push(item);\n      console.log(this.listDone, \"DOM\");\n    },\n    fn_find() {},\n    fn_gotoDetail(_item) {\n      console.log(_item);\n      this.id = _item._id;\n      this.open_dialogDetail = true;\n    },\n    fn_close() {\n      this.fn_getListTodo();\n      this.open_dialogDetail = false;\n      this.open_dialogAdd = false;\n    },\n    // แปลงวันที่จาก timestamp\n    fn_formatdatetimestamp(_date, _format) {\n      return Converter.timestampToYYYYMMDD(_date, _format);\n    },\n  },\n  mounted() {\n    console.log(this.$store.getters.gettersToken, \"EE\");\n    this.fn_getListTodo();\n  },\n};\n</script>\n"]}]}