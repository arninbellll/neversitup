{"remainingRequest":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/arninbell/Documents/neversitup/todo-app/src/views/todo_list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/arninbell/Documents/neversitup/todo-app/src/views/todo_list.vue","mtime":1675180394558},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arninbell/Documents/neversitup/todo-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7CiAgbWRpUGx1cywKICBtZGlDaGVja0NpcmNsZU91dGxpbmUsCiAgbWRpQ2xvc2VDaXJjbGVPdXRsaW5lLAogIG1kaUxpc3RCb3hPdXRsaW5lLAp9IGZyb20gIkBtZGkvanMiOwppbXBvcnQgQ29udmVydGVyIGZyb20gIi4uL2NvbnZlcnRlci9mb3JtYXRlRGF0ZVRpbWUiOwppbXBvcnQgRGlhbG9nQWRkIGZyb20gIi4uL2NvbXBvbmVudHMvZGlhbG9nX2FkZFRvZG8udnVlIjsKaW1wb3J0IERpYWxvZ0RldGFpbCBmcm9tICIuLi9jb21wb25lbnRzL2RpYWxvZ19kZXRhaWxUb2RvLnZ1ZSI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IERpYWxvZ0FkZCwgRGlhbG9nRGV0YWlsIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGljb25zOiB7CiAgICAgICAgbWRpUGx1cywKICAgICAgICBtZGlDaGVja0NpcmNsZU91dGxpbmUsCiAgICAgICAgbWRpQ2xvc2VDaXJjbGVPdXRsaW5lLAogICAgICAgIG1kaUxpc3RCb3hPdXRsaW5lLAogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgb3ZlcmxheTogZmFsc2UsCiAgICAgIG9wZW5fZGlhbG9nQWRkOiBmYWxzZSwKICAgICAgb3Blbl9kaWFsb2dEZXRhaWw6IGZhbHNlLAogICAgICBpZDogIiIsCiAgICAgIGxpc3RNb2NrOiBbCiAgICAgICAgeyB0ZXh0OiAiVE8gRG8gMSIsIGRhdGU6ICIxMC8xMC8yMDIzIiB9LAogICAgICAgIHsgdGV4dDogIlRPIERvIDIiLCBkYXRlOiAiMTAvMTAvMjAyMyIgfSwKICAgICAgICB7IHRleHQ6ICJUTyBEbyAzIiwgZGF0ZTogIjEwLzEwLzIwMjMiIH0sCiAgICAgIF0sCiAgICAgIGxpc3RUb2RvOiBbXSwKICAgICAgbGlzdERvbmU6IFtdLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIEZ1bmN0aW9uIGdldCBUb2RvIGxpc3QgCiAgICBhc3luYyBmbl9nZXRMaXN0VG9kbygpIHsKICAgICAgY29uc29sZS5sb2codGhpcy4kY29va2llcy5nZXQoInRvZG9fdG9rZW4iKSk7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICB0aGlzLm92ZXJsYXkgPSB0cnVlOwogICAgICAgIC8vZ2V0IHRva2VuIGJ5IGNvb2tpZQogICAgICAgIGxldCB0ayA9IHRoaXMuJGNvb2tpZXMuZ2V0KCJ0b2RvX3Rva2VuIik7CiAgICAgICAgbGV0IGhlYWRlcl9hcGkgPSB7IGhlYWRlcnM6IHsgYXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgdGsgfSB9OwogICAgICAgIGxldCBjYWxsX2FwaSA9IGF3YWl0IHRoaXMuYXhpb3MuZ2V0KCBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9UT0RPICsgIi90b2RvcyIsIGhlYWRlcl9hcGkgKTsKICAgICAgICBjb25zb2xlLmxvZyhjYWxsX2FwaSwgIiBBQVBQIik7CiAgICAgICAgaWYgKGNhbGxfYXBpLnN0YXR1c1RleHQgPT09ICJPSyIpIHsKICAgICAgICAgIHRoaXMubGlzdFRvZG8gPSBjYWxsX2FwaS5kYXRhOwogICAgICAgIH0KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLm92ZXJsYXkgPSBmYWxzZTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgdGhpcy5vdmVybGF5ID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvLyBGdW5jdGlvbiBEZWxldGUgVG9kbwogICAgZm5fZGVsZXRlVG9kbygpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5saXN0RG9uZSwgIkRPTkUiKTsKICAgICAgU3dhbC5maXJlKHsKICAgICAgICB0aXRsZTogIkRvIHlvdSB3YW50IHRvIGVuZCB0YXNrPyIsCiAgICAgICAgaWNvbjogImluZm8iLAogICAgICAgIHdpZHRoOiA0NTAsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIkNvbmZpcm0iLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJDYW5jZWwiLAogICAgICB9KS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHsKICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBsZXQgdGsgPSB0aGlzLiRjb29raWVzLmdldCgidG9kb190b2tlbiIpOwogICAgICAgICAgICBsZXQgaGVhZGVyX2FwaSA9IHsgaGVhZGVyczogeyBhdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyB0ayB9IH07CiAgICAgICAgICAgIC8vIENoZWNrIGxpc3QgaWYgZGVsZXRlIG1vcmUgdGhhbiBvbmUKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3REb25lLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLmxpc3REb25lW2ldOwogICAgICAgICAgICAgIGxldCBjYWxsX2FwaSA9IGF3YWl0IHRoaXMuYXhpb3MuZGVsZXRlKCBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9UT0RPICsgIi90b2Rvcy8iICsgaWQsIGhlYWRlcl9hcGkpOwogICAgICAgICAgICAgIGlmIChjYWxsX2FwaS5zdGF0dXNUZXh0ID09PSAiT0siKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJjbG9zZSIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICB0aXRsZTogIkRlbGV0ZSB0b2RvIiwKICAgICAgICAgICAgICB0ZXh0OiAiRGVsZXRlIHRvIGRvIGluIHlvdXIgdGFzayBzdWNjZXNzISIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLmZuX2dldExpc3RUb2RvKCk7CiAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgaWNvbjogImVycm9yIiwKICAgICAgICAgICAgICB0aXRsZTogIkVycm9yLCBzb21ldGhpbWcgd3JvbmcgIiwKICAgICAgICAgICAgICB0ZXh0OiBlcnJvciwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyBmdW5jdGlvbiBvcGVuIGRpYWxvZyBBZGQgdG9kbwogICAgZm5fYWRkTGlzdChpdGVtKSB7CiAgICAgIHRoaXMubGlzdERvbmUucHVzaChpdGVtKTsKICAgICAgY29uc29sZS5sb2codGhpcy5saXN0RG9uZSwgIkRPTSIpOwogICAgfSwKICAgIC8vIGZ1bmN0aW9uIG9wZW4gZGlhbG9nIGVldGFpbCBhbmQgZWRpdAogICAgZm5fZ290b0RldGFpbChfaXRlbSkgewogICAgICBjb25zb2xlLmxvZyhfaXRlbSk7CiAgICAgIHRoaXMuaWQgPSBfaXRlbS5faWQ7CiAgICAgIHRoaXMub3Blbl9kaWFsb2dEZXRhaWwgPSB0cnVlOwogICAgfSwKICAgIGZuX2Nsb3NlKCkgewogICAgICB0aGlzLmZuX2dldExpc3RUb2RvKCk7CiAgICAgIHRoaXMub3Blbl9kaWFsb2dEZXRhaWwgPSBmYWxzZTsKICAgICAgdGhpcy5vcGVuX2RpYWxvZ0FkZCA9IGZhbHNlOwogICAgfSwKICAgIC8vIOC5geC4m+C4peC4h+C4p+C4seC4meC4l+C4teC5iOC4iOC4suC4gSB0aW1lc3RhbXAKICAgIGZuX2Zvcm1hdGRhdGV0aW1lc3RhbXAoX2RhdGUsIF9mb3JtYXQpIHsKICAgICAgcmV0dXJuIENvbnZlcnRlci50aW1lc3RhbXBUb1lZWVlNTUREKF9kYXRlLCBfZm9ybWF0KTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5mbl9nZXRMaXN0VG9kbygpOwogIH0sCn07Cg=="},{"version":3,"sources":["todo_list.vue"],"names":[],"mappings":";AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"todo_list.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-app style=\"background-image: linear-gradient(0deg, #ebf3f9, #b2e7d6)\">\n    <v-container fill-height class=\"pa-4\">\n      <v-layout row warp class=\"ma-0\">\n        <v-flex lg12 xs12 md12 class=\"pa-2\">\n          <v-card>\n            <h1 class=\"pa-4\">TODO</h1>\n            <v-divider></v-divider>\n            <v-card-text>\n                <!-- List TODO -->\n              <v-layout v-if=\"listTodo.length > 0\" row wrap>\n                <v-flex lg12 md12 xs12 class=\"text-left\">\n                  <v-list>\n                    <v-list-item-group>\n                      <v-list-item\n                        v-for=\"(item, index) in listTodo\"\n                        :key=\"index\"\n                        @dblclick=\"fn_gotoDetail(item)\"\n                      >\n                        <template>\n                          <v-list-item-content>\n                            <v-list-item-title class=\"pt-1 pb-1 pr-1\">\n                              <span>{{ item.title }}</span>\n                            </v-list-item-title>\n                            <v-list-item-subtitle>\n                              {{ item.description }}\n                            </v-list-item-subtitle>\n                          </v-list-item-content>\n                          <v-list-item-action>\n                            <v-checkbox\n                              color=\"#49B18F\"\n                              :value=\"item._id\"\n                              v-model=\"listDone\"\n                            >\n                            </v-checkbox>\n                            <v-list-item-action-text>{{\n                              fn_formatdatetimestamp(\n                                item.createdAt,\n                                \"dd-MM-yyyy hh:mm\"\n                              )\n                            }}</v-list-item-action-text>\n                          </v-list-item-action>\n                        </template>\n                      </v-list-item>\n                    </v-list-item-group>\n                  </v-list>\n                </v-flex>\n              </v-layout>\n              <!-- Nodata -->\n              <v-layout v-else row wrap justify-center>\n                <v-flex lg12 md12 xs12 class=\"pa-2\">\n                  <v-icon size=\"64px\">{{ icons.mdiListBoxOutline }}</v-icon>\n                  <br />\n                  <br />\n                  <span>Empty press ' + ' for add new todo</span>\n                </v-flex>\n              </v-layout>\n              <v-divider></v-divider>\n              <v-card-actions class=\"text-center pa-2\" style=\"justify-content: center;\">\n                <div class=\"pa-2\">\n                    <v-btn @click=\"open_dialogAdd = true\" fab color=\"#49B18F\">\n                        <v-icon color=\"white\">{{ icons.mdiPlus }}</v-icon>\n                    </v-btn>\n                </div>\n                <div class=\"pa-2\">\n                    <v-badge  v-if=\"listDone.length > 0\" offset-x=\"15\" offset-y=\"15\" color=\"#f4784b\" :content=\"listDone.length\">\n                        <v-btn v-if=\"listDone.length > 0\" class=\"\" color=\"#f25822\" fab @click=\"fn_deleteTodo()\">\n                            <v-icon color=\"white\">{{ icons.mdiCloseCircleOutline}}</v-icon>\n                        </v-btn>\n                    </v-badge>\n                </div>\n              </v-card-actions>\n            </v-card-text>\n          </v-card>\n        </v-flex>\n      </v-layout>\n    </v-container>\n    <DialogAdd :show=\"open_dialogAdd\" @close=\"fn_close()\"></DialogAdd>\n    <DialogDetail\n      :show=\"open_dialogDetail\"\n      :id=\"id\"\n      @close=\"fn_close()\"\n    ></DialogDetail>\n    <v-overlay :value=\"overlay\">\n      <v-progress-circular indeterminate size=\"64\"></v-progress-circular>\n    </v-overlay>\n  </v-app>\n</template>\n<script>\nimport {\n  mdiPlus,\n  mdiCheckCircleOutline,\n  mdiCloseCircleOutline,\n  mdiListBoxOutline,\n} from \"@mdi/js\";\nimport Converter from \"../converter/formateDateTime\";\nimport DialogAdd from \"../components/dialog_addTodo.vue\";\nimport DialogDetail from \"../components/dialog_detailTodo.vue\";\nimport Swal from \"sweetalert2\";\n\nexport default {\n  components: { DialogAdd, DialogDetail },\n  data() {\n    return {\n      icons: {\n        mdiPlus,\n        mdiCheckCircleOutline,\n        mdiCloseCircleOutline,\n        mdiListBoxOutline,\n      },\n      loading: false,\n      overlay: false,\n      open_dialogAdd: false,\n      open_dialogDetail: false,\n      id: \"\",\n      listMock: [\n        { text: \"TO Do 1\", date: \"10/10/2023\" },\n        { text: \"TO Do 2\", date: \"10/10/2023\" },\n        { text: \"TO Do 3\", date: \"10/10/2023\" },\n      ],\n      listTodo: [],\n      listDone: [],\n    };\n  },\n  methods: {\n    // Function get Todo list \n    async fn_getListTodo() {\n      console.log(this.$cookies.get(\"todo_token\"));\n      try {\n        this.loading = true;\n        this.overlay = true;\n        //get token by cookie\n        let tk = this.$cookies.get(\"todo_token\");\n        let header_api = { headers: { authorization: \"Bearer \" + tk } };\n        let call_api = await this.axios.get( process.env.VUE_APP_API_TODO + \"/todos\", header_api );\n        console.log(call_api, \" AAPP\");\n        if (call_api.statusText === \"OK\") {\n          this.listTodo = call_api.data;\n        }\n        this.loading = false;\n        this.overlay = false;\n      } catch (error) {\n        console.log(error);\n        this.overlay = false;\n      }\n    },\n    // Function Delete Todo\n    fn_deleteTodo() {\n      console.log(this.listDone, \"DONE\");\n      Swal.fire({\n        title: \"Do you want to end task?\",\n        icon: \"info\",\n        width: 450,\n        showCancelButton: true,\n        confirmButtonText: \"Confirm\",\n        cancelButtonText: \"Cancel\",\n      }).then(async (result) => {\n        if (result.isConfirmed) {\n          try {\n            let tk = this.$cookies.get(\"todo_token\");\n            let header_api = { headers: { authorization: \"Bearer \" + tk } };\n            // Check list if delete more than one\n            for (let i = 0; i < this.listDone.length; i++) {\n              const id = this.listDone[i];\n              let call_api = await this.axios.delete( process.env.VUE_APP_API_TODO + \"/todos/\" + id, header_api);\n              if (call_api.statusText === \"OK\") {\n                this.$emit(\"close\");\n              }\n            }\n            Swal.fire({\n              icon: \"success\",\n              title: \"Delete todo\",\n              text: \"Delete to do in your task success!\",\n            });\n            this.fn_getListTodo();\n          } catch (error) {\n            console.log(error);\n            Swal.fire({\n              icon: \"error\",\n              title: \"Error, somethimg wrong \",\n              text: error,\n            });\n          }\n        }\n      });\n    },\n    // function open dialog Add todo\n    fn_addList(item) {\n      this.listDone.push(item);\n      console.log(this.listDone, \"DOM\");\n    },\n    // function open dialog eetail and edit\n    fn_gotoDetail(_item) {\n      console.log(_item);\n      this.id = _item._id;\n      this.open_dialogDetail = true;\n    },\n    fn_close() {\n      this.fn_getListTodo();\n      this.open_dialogDetail = false;\n      this.open_dialogAdd = false;\n    },\n    // แปลงวันที่จาก timestamp\n    fn_formatdatetimestamp(_date, _format) {\n      return Converter.timestampToYYYYMMDD(_date, _format);\n    },\n  },\n  mounted() {\n    this.fn_getListTodo();\n  },\n};\n</script>\n"]}]}